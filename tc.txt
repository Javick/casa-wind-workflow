#### Docker ####
#cont wind_image {
#    type "docker"
#    image_site "casa-dtn"
#    image "http://casa-dtn/~ldm/containers/casa-wind.tar"
#    mount "/etc/hosts:/etc/hosts:ro"
##    mount "/nfs/shared/ldm:/nfs/shared/ldm"
##    profile env "PEGASUS_HOME" "/nfs/shared/ldm/pegasus-4.9.3panorama"
#}

#### Singularity ####
cont wind_image {
    type "singularity"
    image_site "casa-dtn"
    image "http://casa-dtn/~ldm/containers/casa-wind.sif"
    mount "/etc/hosts:/etc/hosts:ro"
#    mount "/nfs/shared/ldm:/nfs/shared/ldm"
#    profile env "PEGASUS_HOME" "/nfs/shared/ldm/pegasus-4.9.3panorama"
}

tr gunzip {
    site condorpool {
		pfn "/bin/gunzip"
		arch "x86_64"
		os "LINUX"
		type "INSTALLED"
      profile pegasus "label" "casa_untar_job"
      profile pegasus "cores" "4"
      profile pegasus "memory" "2048"
      profile env "SEQEXEC_CPUS" "4"
    }
}

tr um_vel {
	site condorpool {
		container "wind_image"
		pfn "/opt/UM_VEL/UM_VEL"
		arch "x86_64"
		os "LINUX"
		type "INSTALLED"
      profile pegasus "label" "casa_job"
	}
}

tr merged_netcdf2png {
	site condorpool {
      container "wind_image"
		pfn "/opt/netcdf2png/merged_netcdf2png"
		arch "x86_64"
		os "LINUX"
		type "INSTALLED"
      profile pegasus "label" "casa_job"
	}
}

tr mvt {
	site condorpool {
		container "wind_image"
		pfn "/opt/mvt/mvt"
		arch "x86_64"
		os "LINUX"
		type "INSTALLED"
      profile pegasus "label" "casa_job"
	}
}

tr pointalert {
	site condorpool {
		container "wind_image"
		pfn "/opt/pointAlert/pointAlert"
		arch "x86_64"
		os "LINUX"
		type "INSTALLED"
      profile pegasus "label" "casa_job"
	}
}

#tr pegasus::worker {
#        site condorpool {
#               pfn "http://casa-dtn/~ldm/pegasus/pegasus-worker-4.9.3panorama-x86_64_rhel_7.tar.gz"
#               arch "x86_64"
#               os "LINUX"
#               type "INSTALLED"
#        }
#}

